## 频域基础：反傅里叶变换（频域转空间域）（去除波纹）

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/27e6e3ab7ef543f58663472402366ff8.png)

```csharp

* 利用 高频、低频、方向，来进行去除波纹（细节）
* 绘制去除高频区域，反傅里叶变换，由频域再转成空域（图像）


*** 方式1：fft_image fft_image_inv

* 读图像

read_image (Image, 'test1.png')
* 转灰度图
rgb1_to_gray (Image, GrayImage1)


* 傅里叶变换，空域（正常图像）转频域
* fft_image (GrayImage1, ImageFFT2)


fft_generic (GrayImage1, ImageFFT2, 'to_freq', -1, 'sqrt', 'dc_center', 'complex')
* 去除波纹，细节（高频）
* 对角方向
* 生成矩形
gen_rectangle1 (ROI_0, 27.4359, 25.9474, 190.912, 261.505)
* 生成矩形
gen_rectangle1 (TMP_Region, 210.916, 276.316, 368.874, 522.453)

union2 (ROI_0, TMP_Region, RegionUnion)

* 区域置零
* 输入置零区域
* 输入图像
* 输出：置零之后的图像
* 设置值（去除波纹效果了）
paint_region (RegionUnion, ImageFFT2, ImageResult1, 0, 'fill')

* 反傅里叶变换

fft_generic (ImageResult1, ImageFFT4, 'from_freq', 1, 'sqrt', 'dc_center', 'complex')
* fft_image_inv (ImageResult1, ImageFFTInv1)




* 读取图像
* 利用傅里叶变换转成频域
* 在频域图像上进行掩膜，置零（高频、低频、方向）
* 对频域图像进行反傅里叶变换，变成图像（空域）





```

```csharp
dev_get_window (WindowHandle)
* 读取图像
read_image (Image1, 'test1.png')
* 转灰度图（空间域转频域）
rgb1_to_gray (Image1, GrayImage)
* 傅里叶变换
fft_image (GrayImage, ImageFFT)
* 生成矩形
gen_rectangle1 (ROI_0, 27.4359, 25.9474, 190.912, 261.505)
* 生成矩形
gen_rectangle1 (TMP_Region, 210.916, 276.316, 368.874, 522.453)
* 区域合并
union2 (ROI_0, TMP_Region, ROI_0)
* 绘制区域
paint_region (ROI_0, ImageFFT, ImageResult, 0, 'fill')
* 反傅里叶变换（频域转空间域）
fft_image_inv (ImageResult, ImageFFTInv)
* 显示结果图像
dev_display (ImageFFTInv)



* 傅里叶变换
fft_generic (GrayImage, ImageFFT, 'to_freq', -1, 'sqrt', 'dc_center', 'complex')
* 生成矩形
gen_rectangle1 (ROI_0, 27.4359, 25.9474, 190.912, 261.505)
gen_rectangle1 (TMP_Region, 210.916, 276.316, 368.874, 522.453)
* 生成矩形
* 区域合并
union2 (ROI_0, TMP_Region, ROI_0)
* 绘制区域
paint_region (ROI_0, ImageFFT, ImageResult, 0, 'fill')
* 反傅里叶变换（频域转空间域）
fft_image_inv (ImageResult, ImageFFTInv)
fft_generic (ImageResult, ImageFFT1, 'from_freq', 1, 'sqrt', 'dc_center', 'complex')
* 显示结果图像
dev_display (ImageFFTInv)



```

