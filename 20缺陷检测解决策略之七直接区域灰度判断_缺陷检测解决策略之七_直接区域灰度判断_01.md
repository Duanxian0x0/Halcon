## 缺陷检测解决策略之七:直接区域灰度判断_01
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/6ed238b960ef42c99ecfe9b2520d93a5.png)

```cpp
* 1.读取图像 
* 2.定位
* 3.获取ROI（感兴趣）区域
* 4.图像预处理 
* 5.图像算法处理
* 6.结果输出 

* 1.读取图像 
read_image (Image, 'printer_chip/printer_chip_01')
* 2.定位(Blob定位)
threshold (Image, Region, 128, 255)
connection (Region, ConnectedRegions)
select_shape (ConnectedRegions, SelectedRegions, 'area', 'and', 29000, 32000)
union1 (SelectedRegions, RegionUnion)
* 3.获取ROI（感兴趣）区域
reduce_domain (Image, RegionUnion, ImageReduced)

* 4.图像预处理(增强对比度)
mult_image (ImageReduced, ImageReduced, ImageResult, 0.008, 0)
* 5.图像算法处理
* 获取图像对应区域的灰度均值
gray_features (RegionUnion, ImageResult, 'mean', Value)
* 6.结果输出
if(Value>200)
    dev_get_window (WindowHandle)
    disp_message (WindowHandle, 'OK', 'window', 12, 12, 'green', 'true')
endif
```

